<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>调试帮助图标</title>
    <style>
        .form-label-with-help {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            border: 1px solid red; /* 调试边框 */
            padding: 10px;
        }
        .help-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 600;
            flex-shrink: 0;
            z-index: 1000; /* 确保在最上层 */
        }
        .help-icon:hover {
            background-color: #0056b3;
            transform: scale(1.1);
        }
        .help-text {
            line-height: 1;
        }
    </style>
</head>
<body>
    <h1>调试帮助图标问题</h1>
    
    <div class="form-label-with-help">
        <label>当前教育水平</label>
        <button type="button" class="help-icon" id="debugHelpBtn" title="测试帮助图标">
            <span class="help-text">?</span>
        </button>
    </div>

    <div id="debug-info">
        <h3>调试信息：</h3>
        <div id="log"></div>
    </div>

    <script>
        const log = document.getElementById('log');
        
        function addLog(message) {
            const p = document.createElement('p');
            p.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            log.appendChild(p);
            console.log(message);
        }

        addLog('页面加载完成');

        // 检查元素是否存在
        const helpBtn = document.getElementById('debugHelpBtn');
        if (helpBtn) {
            addLog('找到帮助按钮元素');
            
            // 检查元素样式
            const styles = window.getComputedStyle(helpBtn);
            addLog(`按钮显示状态: display=${styles.display}, visibility=${styles.visibility}`);
            addLog(`按钮位置: position=${styles.position}, z-index=${styles.zIndex}`);
            addLog(`按钮尺寸: width=${styles.width}, height=${styles.height}`);
            
            // 绑定多种事件进行测试
            helpBtn.addEventListener('click', (e) => {
                addLog('点击事件触发！');
                alert('帮助按钮点击成功！');
            });
            
            helpBtn.addEventListener('mousedown', () => {
                addLog('鼠标按下事件触发');
            });
            
            helpBtn.addEventListener('mouseup', () => {
                addLog('鼠标抬起事件触发');
            });
            
            helpBtn.addEventListener('mouseover', () => {
                addLog('鼠标悬停事件触发');
            });
            
            addLog('所有事件监听器绑定完成');
            
        } else {
            addLog('ERROR: 找不到帮助按钮元素');
        }

        // 检查整个页面的点击事件
        document.addEventListener('click', (e) => {
            addLog(`页面点击事件: 目标元素 ${e.target.tagName} ${e.target.className} ${e.target.id}`);
        });
    </script>
</body>
</html>
