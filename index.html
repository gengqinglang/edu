<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教育路径规划及费用精算系统</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <h1 class="title">教育路径规划及费用精算系统</h1>
            <p class="subtitle">智能规划教育发展路径，精准计算教育投资成本</p>
        </header>

        <!-- 主要内容区域 -->
        <main class="main-content">
            <!-- 输入表单 -->
            <section class="input-section">
                <div class="form-container">
                    <h2 class="section-title">基本信息</h2>
                    
                    <form id="educationForm" class="education-form">
                        <!-- 当前教育阶段 -->
                        <div class="form-group">
                            <label class="form-label">当前教育阶段</label>
                            <div class="option-grid" id="currentStageOptions">
                                <button type="button" class="option-btn active" data-value="幼儿园">幼儿园</button>
                                <button type="button" class="option-btn" data-value="小学">小学</button>
                                <button type="button" class="option-btn" data-value="初中">初中</button>
                                <button type="button" class="option-btn" data-value="高中">高中</button>
                                <button type="button" class="option-btn" data-value="大学">大学</button>
                                <button type="button" class="option-btn" data-value="研究生">研究生</button>
                                <button type="button" class="option-btn" data-value="博士">博士</button>
                            </div>
                            <input type="hidden" id="currentStage" name="currentStage" value="幼儿园" required>
                        </div>

                        <!-- 当前年级 -->
                        <div class="form-group">
                            <label class="form-label">当前年级</label>
                            <div class="option-grid" id="currentGradeOptions">
                                <button type="button" class="option-btn active" data-value="1年级">1年级</button>
                                <button type="button" class="option-btn" data-value="2年级">2年级</button>
                                <button type="button" class="option-btn" data-value="3年级">3年级</button>
                            </div>
                            <input type="hidden" id="currentGrade" name="currentGrade" value="1年级" required>
                        </div>

                        <!-- 当前教育水平 -->
                        <div class="form-group">
                            <div class="form-label-with-help">
                                <label class="form-label">当前教育水平</label>
                                <button type="button" class="help-text-btn" id="educationLevelHelpBtn" title="查看不同教育水平的特点对比">
                                    查看各水平特点对比
                                </button>
                            </div>
                            <div class="option-grid" id="currentLevelOptions">
                                <button type="button" class="option-btn active" data-value="公立">
                                    <span class="option-text">公立</span>
                                    <span class="option-help-icon" data-level="公立" title="查看公立教育特点">?</span>
                                </button>
                                <button type="button" class="option-btn" data-value="普通私立">
                                    <span class="option-text">普通私立</span>
                                    <span class="option-help-icon" data-level="普通私立" title="查看普通私立教育特点">?</span>
                                </button>
                                <button type="button" class="option-btn" data-value="民办双语">
                                    <span class="option-text">民办双语</span>
                                    <span class="option-help-icon" data-level="民办双语" title="查看民办双语教育特点">?</span>
                                </button>
                            </div>
                            <input type="hidden" id="currentLevel" name="currentLevel" value="公立" required>
                        </div>

                        <!-- 目标阶段 -->
                        <div class="form-group">
                            <label class="form-label">目标教育阶段</label>
                            <div class="option-grid" id="targetStageOptions">
                                <button type="button" class="option-btn" data-value="小学">小学</button>
                                <button type="button" class="option-btn" data-value="初中">初中</button>
                                <button type="button" class="option-btn" data-value="高中">高中</button>
                                <button type="button" class="option-btn active" data-value="大学">大学</button>
                                <button type="button" class="option-btn" data-value="研究生">研究生</button>
                                <button type="button" class="option-btn" data-value="博士">博士</button>
                            </div>
                            <input type="hidden" id="targetStage" name="targetStage" value="大学" required>
                        </div>

                        <!-- 提交按钮 -->
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span class="btn-text">开始规划</span>
                                <span class="btn-loading" style="display: none;">分析中...</span>
                            </button>
                            <button type="button" class="btn btn-secondary" id="resetPlanBtn" style="display: none;">
                                重新规划
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- 结果展示区域 -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <div class="results-container">

                    
                    <!-- 教育方向选择 -->
                    <div class="strategic-routes-container" id="strategicRoutesContainer">
                        <!-- 教育方向卡片将通过JavaScript动态生成 -->
                    </div>

                    <!-- 路径详情区域 -->
                    <div class="path-details-container" id="pathDetailsContainer" style="display: none;">
                        <div class="path-details-header">
                            <button class="btn btn-secondary" id="backToRoutesBtn">
                                <span>← 返回</span>
                            </button>
                            <h3 class="path-details-title" id="pathDetailsTitle">路径详情</h3>
                        </div>
                        
                        <!-- 路径筛选器 -->
                        <div class="path-filters-container" id="pathFiltersContainer">
                            <!-- 筛选器区域 -->
                            <div class="filters-section">
                                <div class="filters-header" id="filtersHeader">
                                    <div class="filters-title-section">
                                        <h4>筛选与排序</h4>
                                        <span class="toggle-filters-icon" id="toggleFiltersBtn">▶</span>
                                    </div>
                                    <span class="reset-filters-text" id="resetFiltersBtn" title="重置所有筛选条件">重置</span>
                                </div>
                                
                                <div class="filters-content" id="filtersContent" style="display: none;">
                                    <div class="filters-grid">
                                    <!-- 教育阶段筛选 -->
                                    <div class="filter-group">
                                        <label class="filter-label">锁定关键阶段：</label>
                                        <div class="stage-dropdown-container">
                                            <select id="stageSelect" class="stage-select">
                                                <option value="">选择教育阶段</option>
                                                <option value="小学">小学</option>
                                                <option value="初中">初中</option>
                                                <option value="高中">高中</option>
                                                <option value="大学">大学</option>
                                                <option value="研究生">研究生</option>
                                                <option value="博士">博士</option>
                                            </select>
                                            <select id="levelSelect" class="level-select" disabled>
                                                <option value="">选择教育水平</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <!-- 排序选择 -->
                                    <div class="filter-group">
                                        <label class="filter-label">排序方式：</label>
                                        <div class="sort-buttons">
                                            <button type="button" class="sort-btn" data-sort="prevalence">
                                                <span class="sort-text">按常见度排序</span>
                                            </button>
                                            <button type="button" class="sort-btn" data-sort="cost-high">
                                                <span class="sort-text">按总费用由高到低</span>
                                            </button>
                                            <button type="button" class="sort-btn" data-sort="cost-low">
                                                <span class="sort-text">按总费用由低到高</span>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- 费用区间筛选 -->
                                    <div class="filter-group cost-range-group">
                                        <label class="filter-label">总费用区间：</label>
                                        <div class="cost-range-filter">
                                            <div class="dual-range-slider">
                                                <input type="range" id="costRangeMin" class="cost-range-input range-min" min="0" max="1000000" step="10000">
                                                <input type="range" id="costRangeMax" class="cost-range-input range-max" min="0" max="1000000" step="10000">
                                            </div>
                                            <div class="cost-range-display">
                                                <span id="costRangeMinDisplay">0</span> - <span id="costRangeMaxDisplay">0</span> 元
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 结果统计 -->
                                    <div class="results-stats" id="resultsStats">
                                        <span class="results-count">为您找到了 <strong id="filteredPathsCount">0</strong> 条匹配路径</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 路径差异提示 -->
                        <div class="path-difference-hint">
                            <span class="hint-icon">💡</span>
                            <span class="hint-text">橙色标记表示与路径1的不同之处</span>
                        </div>

                        <!-- 路径列表 -->
                        <div class="paths-container" id="pathsContainer">
                            <!-- 路径列表将通过JavaScript动态生成 -->
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="footer">
            <p>&copy; 2024 教育路径规划系统. 智能教育规划，助力未来发展.</p>
        </footer>
    </div>

    <!-- 单个教育水平特征弹窗 -->
    <div class="level-tooltip" id="levelTooltip" style="display: none;">
        <div class="tooltip-content">
            <div class="tooltip-header">
                <h4 class="tooltip-title" id="tooltipTitle"></h4>
                <button type="button" class="tooltip-close" id="tooltipClose">×</button>
            </div>
            <div class="tooltip-body" id="tooltipBody">
                <!-- 动态内容 -->
            </div>
        </div>
    </div>

    <!-- 教育水平特点模态框 -->
    <div class="modal-overlay" id="educationLevelModal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">教育水平核心特点对比</h3>
                <button type="button" class="modal-close-btn" id="closeModalBtn">×</button>
            </div>
            <div class="modal-body">
                <div class="education-level-guide">
                    <p class="guide-intro">了解不同教育水平的特色优势，帮助您做出明智的选择：</p>
                    
                    <!-- 教育阶段选择器 -->
                    <div class="stage-selector">
                        <label class="selector-label">选择教育阶段：</label>
                        <div class="stage-tabs" id="stageTabsModal">
                            <button type="button" class="stage-tab active" data-stage="幼儿园">幼儿园</button>
                            <button type="button" class="stage-tab" data-stage="小学">小学</button>
                            <button type="button" class="stage-tab" data-stage="初中">初中</button>
                            <button type="button" class="stage-tab" data-stage="高中">高中</button>
                            <button type="button" class="stage-tab" data-stage="大学">大学</button>
                            <button type="button" class="stage-tab" data-stage="研究生">研究生</button>
                            <button type="button" class="stage-tab" data-stage="博士">博士</button>
                        </div>
                    </div>
                    
                    <!-- 教育水平特点展示区域 -->
                    <div class="levels-comparison" id="levelsComparison">
                        <!-- 动态生成的教育水平特点对比内容 -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="modalConfirmBtn">我知道了</button>
            </div>
        </div>
    </div>

    <!-- 加载脚本 -->
    <script src="js/education-data.js"></script>
    <script src="js/education-types.js"></script>
    <script src="js/education-cost-data.js"></script>
    <script src="js/education-grade-cost-data.js"></script>
    <script src="js/cost-calculator.js"></script>
    <script src="js/match-score-calculator.js"></script>
    <script src="js/education-level-features.js"></script>
    <script src="js/personalized-content.js"></script>
    <script src="js/strategic-route-templates.js"></script>
    <script src="js/path-finder.js"></script>
    <script src="js/path-clusterer.js"></script>
    <script src="js/path-ranker.js"></script>
    <script src="js/path-filter.js"></script>
    <script src="js/hint-generator.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
